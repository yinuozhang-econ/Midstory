-----------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/yinuozhang/Dropbox/Personal/Midstory/rustBelt/stata/cleaning.log
  log type:  text
 opened on:  17 Jul 2022, 12:35:41

. cd "$work"
/Users/yinuozhang/Dropbox/Personal/Midstory/rustBelt/stata

. use "$work/cleaning.dta", clear

. 
. desc

Contains data from /Users/yinuozhang/Dropbox/Personal/Midstory/rustBelt/stata/cleaning.dta
  obs:     6,771,228                          
 vars:            16                          16 Jul 2022 18:00
 size:   406,273,680                          
-----------------------------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
-----------------------------------------------------------------------------------------------------
year            int     %8.0g      year_lbl   Census year
sample          long    %40.0g     sample_lbl
                                              IPUMS sample identifier
serial          double  %8.0f                 Household serial number
hhwt            double  %10.2f                Household weight
cluster         double  %13.0f                Household cluster for variance estimation
statefip        byte    %57.0g     statefip_lbl
                                              State (FIPS code)
strata          double  %12.0f                Household strata for variance estimation
gq              byte    %43.0g     gq_lbl     Group quarters status
pernum          int     %8.0g                 Person number in sample unit
perwt           double  %10.2f                Person weight
empstat         byte    %18.0g     empstat_lbl
                                              Employment status [general version]
empstatd        byte    %38.0g     empstatd_lbl
                                              Employment status [detailed version]
labforce        byte    %26.0g     labforce_lbl
                                              Labor force status
ind1990         int     %62.0g     ind1990_lbl
                                              Industry, 1990 basis
wkswork1        byte    %8.0g                 Weeks worked last year
incwage         long    %12.0g                Wage and salary income
-----------------------------------------------------------------------------------------------------
Sorted by: 

. 
. *******************************************************************

. * Keep only private sector workers

. * From Alder etal 21

. *******************************************************************

. 
. *******************************************************************

. * identify manufacture workers

. *******************************************************************

. * Feryer etal: primary metals (33) and transportation (37), respec- tively. The bulk of the employm
> ent in these SICs falls within the steel and auto industries, as seen by looking at the four-digit 
> industries within SICs 33 and 37, which are summarized in appendix A.

. * SIC 33: as late as 1993, 70 per- cent of total employment was within steel and iron foundries, st
> eel rolling mills, and steel and iron pipe factories.

. * SIC 37: the bulk of employment was directly in the production of cars, trucks, buses, and motor h
> omes.

. *******************************************************************

. gen nondurb = 0

. 
. */

. 
. * nondurable + mining + construction

. replace nondurb = 1 if (ind1990 >= 40) & (ind1990<= 222)
(529,038 real changes made)

. 
. gen durb = 0

. 
. */

. 
. * durable

. replace durb = 1 if (ind1990 >=230) & (ind1990 <= 350)
(273,426 real changes made)

. * “Mining” or “Extractive industries” or “Manufacturing” or “Construction”. From growth and structu
> ral transformation handbook chapter, Appendix A on sector assignments

. *******************************************************************

. * identify rustbelt region

. * Indiana, Illinois, Michigan, New York, Ohio, Wisconsin, Pennsylvania, and West Virginia

. * Definition coming from Alder etal 21

. *******************************************************************

. gen rb = 0

. replace rb = 1 if (statefip == 17 ) | (statefip == 18) | (statefip == 26) | (statefip == 36) | (sta
> tefip == 39) | (statefip == 55) | (statefip == 42) | (statefip == 54) 
(2,220,274 real changes made)

. 
. * drop

. drop if (empstatd == 0) | (empstatd == 13) | (empstatd == 14) | (empstatd == 15) 
(1,858,353 observations deleted)

. gen empl = 0

. replace empl = 1 if empstat == 1
(2,702,004 real changes made)

. 
. 
. * collapse by perwt

. collapse (sum) perwt, by(year rb nondurb durb empstat)

. gsort year empstat nondurb durb rb

. * only keeping the employeed

. keep if empstat == 1
(36 observations deleted)

. br

